"use strict";const config_1=require("../../config"),_babelCodeFrame=()=>require("babel-code-frame"),_babel=()=>require("babel-core"),es6Compile=e=>{const{code:r,filePath:o,inputSourceMap:c}=e;try{const e=require("babel-core").transform(r,{presets:["babel-preset-es2015","babel-preset-stage-0"].map(e=>require.resolve(e)),babelrc:!1,sourceFileName:o,filename:o,inputSourceMap:c,sourceMaps:!0});return{code:e.code,map:e.map}}catch(e){if(e.loc){return{error:{message:`file: ${o}\n ${e.message}\n ${require("babel-code-frame")(r,e.loc.line,e.loc.column>0?e.loc.column:1)}`,code:config_1.BABEL_TRANS_JS_ERR}}}return{error:{message:""+e,code:config_1.BABEL_TRANS_JS_ERR}}}};module.exports=es6Compile;